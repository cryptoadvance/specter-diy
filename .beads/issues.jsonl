{"id":"specter-diy.new-6bg","title":"Fix C: Remove /qspi from sys.path in main.c","description":"Comment out /qspi and /qspi/lib from sys.path in stm32/main.c. Eliminates shadowing but users cant add modules to QSPI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:52:46.875253+01:00","updated_at":"2025-12-19T19:27:55.312347+01:00","closed_at":"2025-12-19T19:27:55.312347+01:00","close_reason":"FAILED - CWD still /qspi, '' in sys.path still shadows"}
{"id":"specter-diy.new-9qr","title":"QSPI dirs shadow frozen modules after MicroPython upgrade","description":"New MicroPython uses .frozen as sys.path entry instead of absolute priority. CWD defaults to /qspi, so '' in sys.path finds /qspi/hosts before .frozen/hosts. Settings dirs shadow frozen modules. See .history/lvgl9-migration-lessons.md for details. Recommended fix: rename /qspi/hosts to /qspi/settings/hosts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T18:47:45.871674+01:00","updated_at":"2025-12-19T19:30:24.589192+01:00","closed_at":"2025-12-19T19:30:24.589192+01:00","close_reason":"RESOLVED: Fix D implemented - .frozen first in sys.path. Tested all 4 fixes: A(fail), B(works+migration), C(fail), D(works)","dependencies":[{"issue_id":"specter-diy.new-9qr","depends_on_id":"specter-diy.new-gxv","type":"blocks","created_at":"2025-12-19T18:52:53.130203+01:00","created_by":"daemon"},{"issue_id":"specter-diy.new-9qr","depends_on_id":"specter-diy.new-bkl","type":"blocks","created_at":"2025-12-19T18:52:53.240199+01:00","created_by":"daemon"},{"issue_id":"specter-diy.new-9qr","depends_on_id":"specter-diy.new-6bg","type":"blocks","created_at":"2025-12-19T18:52:53.350989+01:00","created_by":"daemon"},{"issue_id":"specter-diy.new-9qr","depends_on_id":"specter-diy.new-kp3","type":"blocks","created_at":"2025-12-19T18:52:53.460851+01:00","created_by":"daemon"}]}
{"id":"specter-diy.new-bkl","title":"Fix B: Rename settings dirs to /qspi/settings/*","description":"Change Host.SETTINGS_DIR and app paths from /qspi/hosts to /qspi/settings/hosts etc. Cleanest long-term fix.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:52:46.610554+01:00","updated_at":"2025-12-19T19:23:08.013163+01:00","closed_at":"2025-12-19T19:23:08.013163+01:00","close_reason":"SUCCESS - works but requires migrating old /qspi dirs"}
{"id":"specter-diy.new-dz2","title":"VFS filesystems not mounting (/flash, /qspi)","description":"sdram.RAMDevice.ioctl() returns None instead of 0 for init/erase. VfsFat.mkfs fails with 'can't convert NoneType to int'. Bug in f469-disco/usermods/sdram module.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-19T19:49:19.007935+01:00","updated_at":"2025-12-19T19:53:28.074456+01:00"}
{"id":"specter-diy.new-gxv","title":"Fix A: Change CWD in boot.py to /flash","description":"Change os.chdir('/flash') in boot.py before pyb.main() to avoid /qspi being current dir. Already attempted, needs re-test.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:52:46.357046+01:00","updated_at":"2025-12-19T18:54:29.409761+01:00","closed_at":"2025-12-19T18:54:29.409761+01:00","close_reason":"Failed: moving CWD to /flash still shadows because /flash/keystore exists. The '' in sys.path always shadows if CWD has matching dirs."}
{"id":"specter-diy.new-kp3","title":"Fix D: Move .frozen first in sys.path in runtime.c","description":"Insert .frozen at index 0 instead of append in py/runtime.c. Frozen modules always win regardless of CWD.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:52:47.141162+01:00","updated_at":"2025-12-19T19:15:17.619462+01:00","closed_at":"2025-12-19T19:15:17.619462+01:00","close_reason":"SUCCESS: Moving .frozen first in sys.path in runtime.c fixes the shadowing issue. Frozen modules now always take priority."}
{"id":"specter-diy.new-lp1","title":"QR scanner returns garbage data","description":"Scanner triggers/beeps/stops but data is binary garbage. PIN trigger mode at 9600 baud. May need different baud rate or scanner config.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-19T16:24:58.042665+01:00","updated_at":"2025-12-19T17:02:06.665561+01:00","closed_at":"2025-12-19T17:02:06.665561+01:00","close_reason":"Scanner works"}
{"id":"specter-diy.new-ok7","title":"Python code migration after MicroPython/LVGL 9.3.0 upgrade","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-19T16:24:40.788371+01:00","updated_at":"2025-12-19T16:24:40.788371+01:00","dependencies":[{"issue_id":"specter-diy.new-ok7","depends_on_id":"specter-diy.new-lp1","type":"blocks","created_at":"2025-12-19T16:25:03.594054+01:00","created_by":"daemon"}]}
